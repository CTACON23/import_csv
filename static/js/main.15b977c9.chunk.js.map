{"version":3,"sources":["Table/TableHead.js","Table/Table.js","parseArrayFunction.js","App.js","index.js"],"names":["TableHead","heading","map","el","length","Table","data","className","Object","keys","errors","indexOf","Number","parseFloat","toFixed","ids","join","ID","parseArrayFunction","array","i","j","Phone","push","Email","setDuplicateWith","state","age","income","date","phone","children","license","console","log","split","states","item","values","abbreviation","Age","trim","isInteger","exp","validateExp","Experience","test","validateState","moment","isValid","diff","changePhone","buttonRef","React","createRef","App","useState","candidats","setTableCandidates","error","setError","handleOpenDialog","e","current","open","config","header","accept","ref","onFileLoad","isError","candidatsData","index","assign","noClick","noDrag","file","type","onClick","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.15b977c9.chunk.js","sourcesContent":["\r\n\r\n\r\nconst TableHead = ({heading}) =>{\r\n    return (\r\n        <>\r\n            <tr>\r\n                {\r\n                    heading.map(el => {\r\n                        return (\r\n                            el !== heading[heading.length-1] ?  <th key={el}>{el}</th> : false\r\n                        )\r\n                        \r\n                    })\r\n                }\r\n            </tr>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default TableHead;","import './Table.css';\r\nimport TableHead from './TableHead'\r\n\r\n\r\n\r\nconst Table = ({data}) =>{\r\n    \r\n    return(\r\n        <>\r\n            <table className=\"table table-light  table-bordered border-primary table-hover col-md-8\">\r\n                <tbody>\r\n                    <TableHead heading = {Object.keys(data[0])}/>\r\n                {\r\n                    data.map(el => {\r\n                        return (\r\n                            <tr key ={el.ID}>\r\n                                <td>{el['ID']}</td>\r\n                                <td>{el['Full Name']}</td>\r\n                                <td className={el.errors.indexOf('phone') !== -1 ? 'error' : ''}>{el['Phone']}</td>\r\n                                <td className={el.errors.indexOf('email') !== -1 ? 'error' : ''}>{el['Email']}</td>\r\n                                <td className={el.errors.indexOf('Age') !== -1 ? 'error' : ''}>{el['Age']}</td>\r\n                                <td className={el.errors.indexOf('Exp') !== -1 ? 'error' : ''}>{el['Experience']}</td>\r\n                                <td className={el.errors.indexOf('Income') !== -1 ? 'error' : ''}>{Number.parseFloat(el['Yearly Income']).toFixed(2)}</td>\r\n                                <td className={el.errors.indexOf('Children') !== -1 ? 'error' : ''}>{el['Has children']}</td>\r\n                                <td className={el.errors.indexOf('State') !== -1 ? 'error' : ''}>{el['License states']}</td>\r\n                                <td className={el.errors.indexOf('ExpDate') !== -1 ? 'error' : ''}>{el['Expiration date']}</td>\r\n                                <td className={el.errors.indexOf('License') !== -1 ? 'error' : ''}>{el['License number']}</td>\r\n                                <td>{el['Duplicate with'].ids.join()}</td>\r\n                            </tr>\r\n                        )\r\n                    })\r\n                }\r\n                </tbody>\r\n            </table>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Table;","import states from 'states-us';\r\nimport moment from 'moment';\r\n\r\nconst setDuplicateWith = (array) => {\r\n    for(let i =0; i< array.length; i++){\r\n      for(let j = 0; j<array.length;j++){\r\n        if(j < i && i !== j){\r\n          if((array[i].Phone === array[j].Phone)){\r\n            array[i]['Duplicate with']['ids'].push(array[j]['ID'])\r\n            array[j]['Duplicate with']['ids'].push(array[i]['ID'])\r\n            array[i].errors.push('phone')\r\n            array[j].errors.push('phone')\r\n          }\r\n          if((array[i].Email === array[j].Email)){\r\n            array[i]['Duplicate with']['ids'].push(array[j]['ID'])\r\n            array[j]['Duplicate with']['ids'].push(array[i]['ID'])\r\n            array[i].errors.push('email')\r\n            array[j].errors.push('email')\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return array\r\n}\r\nconst validateAge = (age) => {\r\n  return age.isInteger || age >= 21\r\n}\r\nconst validateExp = (exp,age) => {\r\n  return exp.isInteger || age >= exp\r\n}\r\nconst validateYearIncome = (income) => {\r\n  income = Number.parseFloat(income)\r\n  if(typeof income === 'number'){\r\n      return income >= 0\r\n  }\r\n  return false\r\n}\r\nconst changeState = (state) => {\r\n  console.log(state)\r\n  const stateArray = state.split(',').map(el => {\r\n    states.map(item => {\r\n        if (Object.values(item).indexOf(el) > -1) {\r\n          el = item.abbreviation\r\n        }\r\n        \r\n    })\r\n    return el\r\n  })\r\n  return stateArray.join(\"|\")\r\n}\r\n\r\nconst validateState = (state) => {\r\n  return (/([A-Z]{2}\\|?)+/).test(state)\r\n}\r\n\r\nconst validateExpDate = (date) => {\r\n  if(moment(date, [\"YYYY-MM-DD\",\"MM/DD/YYYY\"],true).isValid() || moment().diff(moment(date, [\"YYYY-MM-DD\",\"MM/DD/YYYY\"]) >= 0)){\r\n    return true\r\n  }else{\r\n    return false\r\n  }   \r\n}\r\n\r\nconst validateChildren = (children) => {\r\n  return (/(TRUE|FALSE)/).test(children)\r\n}\r\n\r\nconst changePhone = (phone) => {\r\n  if(phone.length === 10){\r\n    phone = `+1${phone}`\r\n  }else if(phone.length === 11){\r\n    phone = `+${phone}`\r\n  }\r\n  return phone\r\n}\r\nconst validatePhone = (phone) => {\r\n  return (/^(1|([+]1)*)[0-9]{10}$/).test(phone)\r\n}\r\nconst validateLicense = (license) => {\r\n  return (/^\\w{6}$/).test(license)\r\n}\r\nconst parseArrayFunction = (array) =>{\r\n    array = setDuplicateWith(array)\r\n    array.map(el => {\r\n      el['License states'] = changeState(el['License states'])\r\n      \r\n      if(!validateAge(el.Age.trim())){\r\n        el.errors.push('Age')\r\n      }\r\n      if(!validateExp(el.Experience,el.Age)){\r\n        el.errors.push('Exp')\r\n      }\r\n      if(!validateYearIncome(el['Yearly Income'].trim())){\r\n        el.errors.push('Income')\r\n      }\r\n      if(!validateState(el['License states'].trim())){\r\n        el.errors.push('State')\r\n      }\r\n      if(!validateExpDate(el['Expiration date'].trim())){\r\n        el.errors.push('ExpDate')\r\n      }\r\n      if(!validatePhone(el['Phone'])){\r\n        el.errors.push('phone')\r\n      }else{\r\n        el['Phone'] = changePhone(el['Phone'].trim())\r\n      }\r\n      if(!validateChildren(el['Has children'])){\r\n        if(el['Has children'].trim().length === 0){\r\n          el['Has children'] = 'FALSE'\r\n        }else{\r\n          el.errors.push('Children')\r\n        }\r\n      }\r\n      if(!validateLicense(el['License number'].trim())){\r\n        el.errors.push('License')\r\n      }\r\n    })\r\n    return array\r\n}\r\n\r\nexport {parseArrayFunction};","import React, {useState} from 'react';\r\nimport { CSVReader } from 'react-papaparse';\r\nimport './App.css'\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport Table from './Table/Table';\r\nimport {parseArrayFunction} from './parseArrayFunction.js';\r\n\r\nconst buttonRef = React.createRef();\r\n\r\nexport default function App() {\r\n  const [candidats,setTableCandidates] = useState([])\r\n  const [error,setError] = useState(false)\r\n\r\n\r\n  const handleOpenDialog = (e) => {\r\n    if (buttonRef.current) {\r\n      buttonRef.current.open(e);\r\n    }\r\n  };\r\n\r\n  const  handleOnFileLoad = (data) => {\r\n    let isError = false;\r\n    if(!(/^[Ff][Uu]([Ll]{2})\\s[Nn][Aa][Mm][Ee]$/.test(Object.keys(data[0].data)[0]) && /^[Pp][Hh][Oo][Nn][Ee]$/.test(Object.keys(data[0].data)[1]) &&\r\n          /^[Ee][Mm][Aa][Ii][Ll]$/.test(Object.keys(data[0].data)[2]))\r\n      ){\r\n        isError = true;\r\n    }\r\n    if(!isError){\r\n      let candidatsData = data.map((el,index)=>{\r\n        return Object.assign({'ID': index},el.data,{'Duplicate with': {ids:[]}}, {errors:[]});\r\n      })\r\n      candidatsData = parseArrayFunction(candidatsData)\r\n      setTableCandidates(candidatsData)\r\n      setError(isError)\r\n    }else{\r\n      setError(isError)\r\n    }\r\n    \r\n  };\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        {(error ?\r\n          <div className=\"formatError\">File format is not correct</div>\r\n          :\r\n          <>\r\n            {(candidats.length !== 0 &&\r\n              <Table data = {candidats}/>\r\n            )}\r\n          </>\r\n        )}\r\n        \r\n        <div className=\"import\">\r\n          <CSVReader\r\n            config={{\r\n              header:true\r\n            }}\r\n            accept=\".csv\"\r\n            ref={buttonRef}\r\n            onFileLoad={handleOnFileLoad}\r\n            noClick\r\n            noDrag\r\n          >\r\n            {({ file }) => (\r\n              <div>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handleOpenDialog}\r\n                  className=\"import__button\"\r\n                >\r\n                  Import users\r\n                </button>\r\n              </div>\r\n            )}\r\n          </CSVReader>\r\n        </div>\r\n      </div>\r\n    );\r\n  }","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}