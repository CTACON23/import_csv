(this.webpackJsonpcsv_table=this.webpackJsonpcsv_table||[]).push([[0],{32:function(e,r){},34:function(e,r){},44:function(e,r,t){},46:function(e,r,t){},49:function(e,r,t){"use strict";t.r(r);var n=t(1),s=t.n(n),c=t(22),i=t.n(c),a=t(15),o=t(23),l=(t(44),t(45),t(46),t(0)),d=function(e){var r=e.heading;return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("tr",{children:r.map((function(e){return e!==r[r.length-1]&&Object(l.jsx)("th",{children:e},e)}))})})},h=function(e){var r=e.data;return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("table",{className:"table table-light  table-bordered border-primary table-hover col-md-8",children:Object(l.jsxs)("tbody",{children:[Object(l.jsx)(d,{heading:Object.keys(r[0])}),r.map((function(e){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e.ID}),Object(l.jsx)("td",{children:e["Full Name"]}),Object(l.jsx)("td",{className:-1!==e.errors.indexOf("phone")?"error":"",children:e.Phone}),Object(l.jsx)("td",{className:-1!==e.errors.indexOf("email")?"error":"",children:e.Email}),Object(l.jsx)("td",{className:-1!==e.errors.indexOf("Age")?"error":"",children:e.Age}),Object(l.jsx)("td",{className:-1!==e.errors.indexOf("Exp")?"error":"",children:e.Experience}),Object(l.jsx)("td",{className:-1!==e.errors.indexOf("Income")?"error":"",children:Number.parseFloat(e["Yearly Income"]).toFixed(2)}),Object(l.jsx)("td",{className:-1!==e.errors.indexOf("Children")?"error":"",children:e["Has children"]}),Object(l.jsx)("td",{className:-1!==e.errors.indexOf("State")?"error":"",children:e["License states"]}),Object(l.jsx)("td",{className:-1!==e.errors.indexOf("ExpDate")?"error":"",children:e["Expiration date"]}),Object(l.jsx)("td",{className:-1!==e.errors.indexOf("License")?"error":"",children:e["License number"]}),Object(l.jsx)("td",{children:e["Duplicate with"].ids.join()})]},e.ID)}))]})})})},u=t(25),j=t.n(u),b=t(8),p=t.n(b),m=function(e){return(e=function(e){for(var r=0;r<e.length;r++)for(var t=0;t<e.length;t++)t<r&&r!==t&&(e[r].Phone===e[t].Phone&&(e[r]["Duplicate with"].ids.push(e[t].ID),e[t]["Duplicate with"].ids.push(e[r].ID),e[r].errors.push("phone"),e[t].errors.push("phone")),e[r].Email===e[t].Email&&(e[r]["Duplicate with"].ids.push(e[t].ID),e[t]["Duplicate with"].ids.push(e[r].ID),e[r].errors.push("email"),e[t].errors.push("email")));return e}(e)).map((function(e){var r,t,n,s,c,i,a;e["License states"]=(r=e["License states"],console.log(r),r.split(",").map((function(e){return j.a.map((function(r){Object.values(r).indexOf(e)>-1&&(e=r.abbreviation)})),e})).join("|")),(t=e.Age.trim()).isInteger||t>=21||e.errors.push("Age"),function(e,r){return e.isInteger||r>=e}(e.Experience,e.Age)||e.errors.push("Exp"),n=e["Yearly Income"].trim(),"number"===typeof(n=Number.parseFloat(n))&&n>=0||e.errors.push("Income"),function(e){return/([A-Z]{2}\|?)+/.test(e)}(e["License states"].trim())||e.errors.push("State"),s=e["Expiration date"].trim(),p()(s,["YYYY-MM-DD","MM/DD/YYYY"],!0).isValid()||p()().diff(p()(s,["YYYY-MM-DD","MM/DD/YYYY"])>=0)||e.errors.push("ExpDate"),c=e.Phone,/^(1|([+]1)*)[0-9]{10}$/.test(c)?e.Phone=function(e){return 10===e.length?e="+1".concat(e):11===e.length&&(e="+".concat(e)),e}(e.Phone.trim()):e.errors.push("phone"),i=e["Has children"],/(TRUE|FALSE)/.test(i)||(0===e["Has children"].trim().length?e["Has children"]="FALSE":e.errors.push("Children")),a=e["License number"].trim(),/^\w{6}$/.test(a)||e.errors.push("License")})),e},O=s.a.createRef();function x(){var e=Object(n.useState)([]),r=Object(a.a)(e,2),t=r[0],s=r[1],c=Object(n.useState)(!1),i=Object(a.a)(c,2),d=i[0],u=i[1],j=function(e){O.current&&O.current.open(e)};return Object(l.jsxs)("div",{className:"App",children:[d?Object(l.jsx)("div",{className:"formatError",children:"File format is not correct"}):Object(l.jsx)(l.Fragment,{children:0!==t.length&&Object(l.jsx)(h,{data:t})}),Object(l.jsx)("div",{className:"import",children:Object(l.jsx)(o.a,{config:{header:!0},accept:".csv",ref:O,onFileLoad:function(e){var r=!1;if(/^[Ff][Uu]([Ll]{2})\s[Nn][Aa][Mm][Ee]$/.test(Object.keys(e[0].data)[0])&&/^[Pp][Hh][Oo][Nn][Ee]$/.test(Object.keys(e[0].data)[1])&&/^[Ee][Mm][Aa][Ii][Ll]$/.test(Object.keys(e[0].data)[2])||(r=!0),r)u(r);else{var t=e.map((function(e,r){return Object.assign({ID:r},e.data,{"Duplicate with":{ids:[]}},{errors:[]})}));t=m(t),s(t),u(r)}},noClick:!0,noDrag:!0,children:function(e){e.file;return Object(l.jsx)("div",{children:Object(l.jsx)("button",{type:"button",onClick:j,className:"import__button",children:"Import users"})})}})})]})}i.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(x,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.15b977c9.chunk.js.map